# include should be here
# MDScreen kivymd.uix.screen
# Metrics kivy.metrics
#: include Power_App_KVs/Login_screen.kv
#: include Power_App_KVs/Screen_controller.kv

<MDIconButton>
    font_size: "5dp"

<MDTextField>
    md_bg_color: None
    theme_text_color: 'Custom'
    text_color: app.theme_cls.primary_color

# Creating a general control to the MDLabel
<MDLabel>
    valign: "center"
    halign: "center"
    font_size: '12dp' # for labels in menu list, login list, page title in toolbar
    md_bg_color: None
    theme_text_color: "Primary"
    #theme_text_color: 'Custom'
    #text_color: app.theme_cls.primary_color

<MDIcon>
    halign: "center"
    valign: "center"
    size: root.size
    pos: root.pos
    font_size: '26dp' # for icons at menu list

<MDCard>
    padding: 8
    elevation: '8dp'
    size_hint: None,None
    width: app.widget_sizer(id="general_mdcard", parent_width=self.parent.width, parent_height=self.parent.height)#'120dp' #int ((self.parent.width/2) - 12)
    height: '100dp'
    orientation: 'vertical'

<IconLeftWidget>
    pos_hint: {"top":1, "left":1}
    user_font_size: '22dp' # for icons at navigation drawer

<OneLineListItem>
    font_size: '14dp'  # for OnlineListItem font size control manual

<MDRaisedButton>
    md_bg_color: app.theme_cls.primary_dark
    #theme_text_color: 'Custom'
    #text_color: app.theme_cls.primary_light


Screen:
    id: power_screen
    ScreenManager:
        id: screen_manager
        size_hint: 1, 1
        pos_hint: {'top':1, 'left':1}

        Login_screen:
            id: login_screen
            name: 'login_screen'

        Menu_controller:
            id: menu_selector
            name: 'menu selector'


            MDToolbar:
                id: toolbar
                title: "Menu"
                font_size: "14dp"  # manual
                pos_hint: {'top':1}
                size_hint_y: .06
                elevation: 8
                md_bg_color: [.9]+app.theme_cls.primary_light[1:3]+[1]
                left_action_items: [['menu', lambda x: nav_drawer.set_state("open")]]
                #right_action_items: [['more-vert', lambda x: app.raised_button.open(self.parent)]]
                icon: 'C:/Users/HENRY/Documents/Python Scripts/BEDC/Power_App/Power_App_KVs/random_logo.png'
                right_action_items: [['reload', lambda x: app.go_to_home()]]
                #right_action_items: [['dot-vertical', lambda x: app.go_to_home()]]
                user_font_size: "20dp"


            MDNavigationDrawer:
                id: nav_drawer
                pos_hint: {'top':1}
                size_hint: (.8,.7)
                MDCard:
                    size_hint: (1,.3)
                    orientation: "vertical"
                    spacing: dp(2)
                    padding: dp(2)
                    MDLabel:
                        id: empty_nav_item
                        text: ""
                        font_size: dp(10)
                        halign: "left"
                    MDLabel:
                        id: nav_user_name
                        text: ""
                        font_size: dp(10)
                        halign: "left"
                    MDLabel:
                        id: nav_user_bu
                        text: ""
                        font_size: dp(8)
                        halign: "left"
                    MDLabel:
                        id: nav_date
                        text: ""
                        font_size: "8dp"
                        halign: "left"
                ScrollView:
                    MDList:
                        OneLineListItem:
                            text: 'Home'
                            on_release: nav_drawer.set_state("close"),app.change_screen('Route Martial Menu',step=2)
                            IconLeftWidget:
                                icon: 'home'
                                on_release: nav_drawer.set_state("close"), app.change_screen('Route Martial Menu',step=2)

                        OneLineListItem:
                            halign: "left"
                            text: 'Reload Data'
                            on_release: app.change_screen('login_screen',direction='right',step=1),nav_drawer.set_state("close")
                            IconLeftWidget:
                                icon: 'reload'
                                #on_release: app.change_screen('login_screen',direction='right'),nav_drawer.set_state("close")

                        OneLineListItem:
                            text: 'Setting'
                            on_release: nav_drawer.set_state("close")
                            IconLeftWidget:
                                icon: 'settings'
                                on_release: nav_drawer.set_state("close")

                        OneLineListItem:
                            text: 'Report Issue'
                            on_release: nav_drawer.set_state("close")
                            IconLeftWidget:
                                icon: 'settings'
                                on_release: nav_drawer.set_state("close")

                        OneLineListItem:
                            text: 'Help'
                            on_release: nav_drawer.set_state("close")
                            IconLeftWidget:
                                icon: 'help'
                                on_release: nav_drawer.set_state("close")

                        OneLineListItem:
                            halign: "left"
                            text: 'Log Out'
                            on_release: app.change_screen('login_screen',direction='right',step=1),nav_drawer.set_state("close")
                            IconLeftWidget:
                                icon: 'logout'
                                on_release: app.change_screen('login_screen',direction='right',step=1),nav_drawer.set_state("close")









